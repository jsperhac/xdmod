{
  "table_definition": {
    "comment": "Consumption of resources by Gateways",
    "engine": "myisam",
    "charset": "utf8mb4",
    "collation": "utf8mb4_general_ci",
    "columns": [
      {
        "type": "bigint(20) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Job record this task falls under",
        "hints": null,
        "name": "job_record_id"
      },
      {
        "type": "bigint(20) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0",
        "extra": null,
        "comment": "Unique job_id",
        "hints": null,
        "name": "job_id"
      },
      {
        "type": "bigint(20) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Job_id from Origin",
        "hints": null,
        "name": "job_id_origin_id"
      },
      {
        "type": "datetime",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Time that the data was originally recorded at the source",
        "hints": null,
        "name": "creation_time"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Job or vm instance identifier from resource manager",
        "hints": null,
        "name": "local_jobid"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "-1",
        "extra": null,
        "comment": "Job Array index id",
        "hints": null,
        "name": "local_job_array_index"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "Resource where the task executed",
        "hints": null,
        "name": "local_job_id_raw"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Resource where the task executed",
        "hints": null,
        "name": "resource_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "DIMENSION: The id of the resource system account (local username) under which the job ran. References systemaccount.id",
        "hints": null,
        "name": "systemaccount_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Person executing this task",
        "hints": null,
        "name": "person_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The organization of the person who ran the task",
        "hints": null,
        "name": "person_organization_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The NSF status code of the person who ran the task",
        "hints": null,
        "name": "person_nsfstatuscode_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Task type or event",
        "hints": null,
        "name": "job_task_type_id"
      },
      {
        "type": "varchar(256)",
        "charset": "latin1",
        "collation": "latin1_swedish_ci",
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "User-specified job name",
        "hints": null,
        "name": "name"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Task submission time in seconds since epoch (UTC)",
        "hints": null,
        "name": "submit_time_ts"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Task start time in seconds since epoch (UTC)",
        "hints": null,
        "name": "start_time_ts"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Task completion time in seconds since epoch (UTC)",
        "hints": null,
        "name": "end_time_ts"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The eligible time in Unix time.",
        "hints": null,
        "name": "eligible_time_ts"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Day id of the job start time in format YYYY00DDD, e.g. 201600143. This is the day in the timezone of the LOCAL database and NOT UTC!",
        "hints": null,
        "name": "start_day_id"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Day id of the job end time in format YYYY00DDD, e.g. 201600143. This is the day in the timezone of the LOCAL database and NOT UTC!",
        "hints": null,
        "name": "end_day_id"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Day id of the job eligible time in format YYYY00DDD, e.g. 201600143. This is the day in the timezone of the LOCAL database and NOT UTC!",
        "hints": null,
        "name": "eligible_day_id"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "-1",
        "extra": null,
        "comment": "Number of nodes consumed",
        "hints": null,
        "name": "node_count"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "-1",
        "extra": null,
        "comment": "Number of processor cores consumed",
        "hints": null,
        "name": "processor_count"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "-1",
        "extra": null,
        "comment": "Memory consumed",
        "hints": null,
        "name": "memory_kb"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Overall job duration in seconds",
        "hints": null,
        "name": "wallduration"
      },
      {
        "type": "int(11)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "Time the job waited in the queue",
        "hints": null,
        "name": "waitduration"
      },
      {
        "type": "decimal(18,0)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": null,
        "extra": null,
        "comment": "The amount of the cpu time (processor_count * wallduration)",
        "hints": null,
        "name": "cpu_time"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0.000",
        "extra": null,
        "comment": "Local resource SUs charged",
        "hints": null,
        "name": "local_charge_su"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0.000",
        "extra": null,
        "comment": "Local resource SUs charged after SP adjustments",
        "hints": null,
        "name": "adjusted_charge_su"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "XDSUs charged. Uses current resource conv factor",
        "hints": null,
        "name": "local_charge_xdsu"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "XDSUs charged after SP adjustments",
        "hints": null,
        "name": "adjusted_charge_xdsu"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "NUs charged. XDSU * 21.576",
        "hints": null,
        "name": "local_charge_nu"
      },
      {
        "type": "decimal(18,3)",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "NUs charged after SP adjustments. XDSU & 21.576",
        "hints": null,
        "name": "adjusted_charge_nu"
      },
      {
        "type": "varchar(255)",
        "charset": "latin1",
        "collation": "latin1_swedish_ci",
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The name of the group that ran the job.",
        "hints": null,
        "name": "group_name"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The GID of the group that ran the job.",
        "hints": null,
        "name": "gid_number"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The UID of the user that ran the job.",
        "hints": null,
        "name": "uid_number"
      },
      {
        "type": "varchar(32)",
        "charset": "latin1",
        "collation": "latin1_swedish_ci",
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The code that the job exited with.",
        "hints": null,
        "name": "exit_code"
      },
      {
        "type": "varchar(32)",
        "charset": "latin1",
        "collation": "latin1_swedish_ci",
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The state of the job when it completed.",
        "hints": null,
        "name": "exit_state"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The number of CPUs required by the job.",
        "hints": null,
        "name": "cpu_req"
      },
      {
        "type": "varchar(32)",
        "charset": "latin1",
        "collation": "latin1_swedish_ci",
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The amount of memory required by the job.",
        "hints": null,
        "name": "mem_req"
      },
      {
        "type": "int(10) unsigned",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "The time limit of the job in seconds.",
        "hints": null,
        "name": "timelimit"
      },
      {
        "type": "double",
        "charset": null,
        "collation": null,
        "nullable": true,
        "default": null,
        "extra": null,
        "comment": "Factor used to normalize local SU to TG Roaming (XDSU)",
        "hints": null,
        "name": "conversion_factor"
      },
      {
        "type": "tinyint(1)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0",
        "extra": null,
        "comment": "Boolean flag 1 = job complete",
        "hints": null,
        "name": "completed"
      },
      {
        "type": "timestamp",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0000-00-00 00:00:00",
        "extra": null,
        "comment": null,
        "hints": null,
        "name": "last_modified"
      },
      {
        "type": "tinyint(1)",
        "charset": null,
        "collation": null,
        "nullable": false,
        "default": "0",
        "extra": null,
        "comment": "Boolean flag 1 = job has been deleted",
        "hints": null,
        "name": "is_deleted"
      }
    ],
    "indexes": [
        {
            "name": "PRIMARY",
            "columns": [
                "job_id",
                "creation_time"
            ],
            "type": "BTREE",
            "is_unique": true
        }
    ],
    "foreign_key_constraints": [],
    "triggers": [],
    "schema": "modw_gateways",
    "name": "job_tasks"
  }
}
